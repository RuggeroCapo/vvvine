<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vine Enhancer</title>
  <link rel="stylesheet" href="popup-styles.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <div class="popup-header">
      <h1 class="popup-title">ğŸ‡ Vine Enhancer</h1>
      <p class="popup-subtitle">Amazon Vine Productivity Tool</p>
    </div>

    <!-- Statistics Card -->
    <div class="card">
      <div class="card-header">
        <div class="card-icon">ğŸ“Š</div>
        <h2 class="card-title">Statistics</h2>
      </div>
      <div class="card-content">
        <div class="stat-row">
          <span class="stat-label">
            <span class="stat-label-icon">ğŸ‘ï¸</span>
            Items Seen
          </span>
          <span class="stat-value" id="seen-count">-</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">
            <span class="stat-label-icon">ğŸ“¦</span>
            Items Tracked
          </span>
          <span class="stat-value" id="known-items-count">-</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">
            <span class="stat-label-icon">ğŸ“…</span>
            Active Since
          </span>
          <span class="stat-value" id="install-date">-</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">
            <span class="stat-label-icon">ğŸ“„</span>
            Current Page
          </span>
          <span class="stat-value" id="current-page">-</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">
            <span class="stat-label-icon">ğŸ”</span>
            Search Filter
          </span>
          <span class="stat-value search-filter-value" id="search-filter" title="">None</span>
        </div>
      </div>
    </div>

    <!-- Auto-Navigation Card -->
    <div class="card">
      <div class="card-content">
        <div class="toggle-container">
          <div class="toggle-info">
            <h3>Auto-Navigation</h3>
            <p>Automatically navigate to next page</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="auto-navigation-toggle" class="toggle-input">
            <div class="toggle-slider"></div>
          </label>
        </div>
      </div>
    </div>

    <!-- Monitoring Card -->
    <div class="card">
      <div class="card-header">
        <div class="card-icon">ğŸ””</div>
        <h2 class="card-title">Monitoring Mode</h2>
      </div>
      <div class="card-content">
        <p class="card-description">Monitor for new items with notifications</p>

        <!-- Queue Selection -->
        <div class="form-group">
          <label class="form-label">Queue to Monitor</label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="monitor-queue" value="potluck" id="monitor-potluck" checked class="radio-input">
              <span>Potluck</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="monitor-queue" value="encore" id="monitor-encore" class="radio-input">
              <span>Encore</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="monitor-queue" value="last_chance" id="monitor-last-chance" class="radio-input">
              <span>Last Chance</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="monitor-queue" value="search" id="monitor-search" class="radio-input">
              <span>Search</span>
            </label>
          </div>
        </div>

        <!-- Search Query -->
        <div id="search-query-container" class="form-group" style="display: none;">
          <label class="form-label" for="monitoring-search-query">Search Query</label>
          <input type="text" id="monitoring-search-query" placeholder="e.g., headphones, gaming" class="text-input">
        </div>

        <!-- Refresh Interval -->
        <div class="form-group">
          <label class="form-label">
            <span>Refresh Interval</span>
            <span class="form-label-value" id="refresh-interval-display">5min</span>
          </label>
          
          <!-- Time Unit Selection -->
          <div class="time-unit-selector">
            <label class="time-unit-option">
              <input type="radio" name="time-unit" value="seconds" id="time-unit-seconds" class="time-unit-radio">
              <span>Seconds</span>
            </label>
            <label class="time-unit-option">
              <input type="radio" name="time-unit" value="minutes" id="time-unit-minutes" class="time-unit-radio" checked>
              <span>Minutes</span>
            </label>
          </div>
          
          <input type="range" id="refresh-interval" min="5" max="30" value="5" step="1" class="range-input">
          <div class="range-labels">
            <span id="range-min-label">1min</span>
            <span id="range-max-label">30min</span>
          </div>
        </div>

        <!-- Start/Stop Button -->
        <button id="toggle-monitoring-btn" class="btn btn-primary">
          <span class="btn-icon">â–¶ï¸</span>
          Start Monitoring
        </button>

        <!-- Monitoring Status -->
        <div id="monitoring-status" class="monitoring-status" style="display: none;">
          <div class="status-grid">
            <div class="status-item">
              <span class="status-label">Status</span>
              <span id="monitoring-status-text" class="status-badge status-active">â— Active</span>
            </div>
            <div class="status-item">
              <span class="status-label">Monitoring</span>
              <span id="monitoring-queue-text" class="status-value">Potluck</span>
            </div>
            <div class="status-item">
              <span class="status-label">Items Notified</span>
              <span id="monitoring-notified-count" class="status-value">0</span>
            </div>
          </div>
          <div class="button-row">
            <button id="test-notification" class="btn btn-small btn-primary">
              <span class="btn-icon">ğŸ””</span>
              Test
            </button>
            <button id="clear-notified" class="btn btn-small btn-orange">
              <span class="btn-icon">ğŸ—‘ï¸</span>
              Clear
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Telegram Settings Card -->
    <div class="card">
      <div class="card-header">
        <div class="card-icon">ğŸ“±</div>
        <h2 class="card-title">Telegram Notifications</h2>
      </div>
      <div class="card-content">
        <p class="card-description">Configure Telegram bot for notifications</p>
        <div class="form-group">
          <label class="form-label" for="telegram-bot-token">Bot Token</label>
          <input type="password" id="telegram-bot-token" placeholder="123456:ABC-DEF..." class="text-input">
        </div>
        <div class="form-group">
          <label class="form-label" for="telegram-chat-id">Chat ID</label>
          <input type="text" id="telegram-chat-id" placeholder="-1001234567890" class="text-input">
        </div>
        <div class="button-row">
          <button id="save-telegram-config" class="btn btn-small btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            Save
          </button>
          <button id="test-telegram" class="btn btn-small btn-primary">
            <span class="btn-icon">ğŸ§ª</span>
            Test
          </button>
        </div>
        <div id="telegram-status" class="telegram-status" style="display: none;"></div>
      </div>
    </div>

    <!-- Rocket Button Settings Card -->
    <div class="card">
      <div class="card-header">
        <div class="card-icon">ğŸš€</div>
        <h2 class="card-title">One-Click Purchase</h2>
      </div>
      <div class="card-content">
        <p class="card-description">Configure rocket button for fast purchases</p>
        
        <!-- Enable/Disable Toggle -->
        <div class="toggle-container">
          <div class="toggle-info">
            <h3>Enable Rocket Button</h3>
            <p>Show one-click purchase button on items</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="rocket-enabled-toggle" class="toggle-input" checked>
            <div class="toggle-slider"></div>
          </label>
        </div>

        <!-- Address Selection -->
        <div class="form-group">
          <label class="form-label" for="purchase-address">Delivery Address</label>
          <select id="purchase-address" class="select-input">
            <option value="">Select an address...</option>
          </select>
          <p class="form-hint">Visit a Vine page to load your addresses</p>
        </div>

        <!-- Refresh Addresses Button -->
        <button id="refresh-addresses" class="btn btn-small btn-primary">
          <span class="btn-icon">ğŸ”„</span>
          Refresh Addresses
        </button>

        <!-- Address Status -->
        <div id="address-status" class="address-status" style="display: none;"></div>
      </div>
    </div>

    <!-- Actions Card -->
    <div class="card">
      <div class="card-header">
        <div class="card-icon">âš™ï¸</div>
        <h2 class="card-title">Actions</h2>
      </div>
      <div class="card-content">
        <div class="button-group">
          <button id="export-data" class="btn btn-primary">
            <span class="btn-icon">ğŸ“¥</span>
            Export Seen Items
          </button>
          <button id="import-data" class="btn btn-primary">
            <span class="btn-icon">ğŸ“¤</span>
            Import Seen Items
          </button>
          <button id="clear-filter" class="btn btn-orange">
            <span class="btn-icon">ğŸ”</span>
            Clear Search Filter
          </button>
          <button id="reset-category-counts" class="btn btn-orange">
            <span class="btn-icon">ğŸ”„</span>
            Reset Category Counts
          </button>
          <button id="clear-all" class="btn btn-red">
            <span class="btn-icon">ğŸ—‘ï¸</span>
            Clear All Data
          </button>
        </div>
      </div>
    </div>

    <!-- Keyboard Shortcuts Card -->
    <div class="card">
      <div class="card-header">
        <div class="card-icon">âŒ¨ï¸</div>
        <h2 class="card-title">Keyboard Shortcuts</h2>
      </div>
      <div class="card-content">
        <div class="shortcut-row">
          <span class="shortcut-label">Navigate Items</span>
          <span class="shortcut-keys">
            <kbd>J</kbd> / <kbd>K</kbd>
          </span>
        </div>
        <div class="shortcut-row">
          <span class="shortcut-label">Hide Current</span>
          <span class="shortcut-keys"><kbd>H</kbd></span>
        </div>
        <div class="shortcut-row">
          <span class="shortcut-label">Navigate Pages</span>
          <span class="shortcut-keys">
            <kbd>Ctrl</kbd> + <kbd>â†</kbd>/<kbd>â†’</kbd>
          </span>
        </div>
        <div class="shortcut-row">
          <span class="shortcut-label">Clear Filter</span>
          <span class="shortcut-keys"><kbd>Esc</kbd></span>
        </div>
        <div class="shortcut-row">
          <span class="shortcut-label">Toggle Auto-Nav</span>
          <span class="shortcut-keys"><kbd>A</kbd></span>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
